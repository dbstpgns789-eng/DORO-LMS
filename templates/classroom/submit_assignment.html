{% extends "base.html" %}
{% load static %}

{% block title %}ê³¼ì œ ì œì¶œ | {{ assignment.title }}{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/submit_assignment.css' %}">
{% endblock %}

{% block content %}
<section class="hero">
  <div class="hero-inner">
    <h1 class="hero-title">ğŸ“¤ ê³¼ì œ ì œì¶œ</h1>
    <p class="hero-sub">{{ assignment.course.title }}</p>
  </div>
</section>

<main class="submit-wrap">
  <div class="submit-card">

    <div class="submit-header">
      <div class="submit-title">{{ assignment.title }}</div>
      <div class="submit-sub">
        {% if submission %}ì´ë¯¸ ì œì¶œí•œ ê³¼ì œë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.{% else %}ì•„ë˜ ì–‘ì‹ì— ë§ê²Œ ê³¼ì œë¥¼ ì œì¶œí•˜ì„¸ìš”.{% endif %}
      </div>
    </div>

    <div class="info-box">
      <div>ğŸ“š {{ assignment.course.title }}</div>
      <div class="info-meta">
        <span>ğŸ“… ë§ˆê°: {{ assignment.due_date|date:"Y-m-d H:i" }}</span>
        <span>ğŸ’¯ ë°°ì : {{ assignment.max_score }}ì </span>
      </div>
    </div>

    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}

      <div class="form-group">
        <label class="field-label">í…ìŠ¤íŠ¸ ë‹µë³€ (ì„ íƒ)</label>
        <div class="field-control-wrap">
           {{ form.content }}
        </div>
        {% if form.content.errors %}
          <div class="field-error">{{ form.content.errors }}</div>
        {% endif %}
        <div class="field-help">
          ê°„ë‹¨í•œ ì„¤ëª…ì´ë‚˜ ì¶”ê°€ ë‚´ìš©ì„ í…ìŠ¤íŠ¸ë¡œ ì‘ì„±í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ì„¸ìš”.
        </div>
      </div>

      <div class="form-group">
        <label class="field-label">íŒŒì¼ ì—…ë¡œë“œ (PDF ë“±)</label>
        {{ form.file }}
        {% if form.file.errors %}
          <div class="field-error">{{ form.file.errors }}</div>
        {% endif %}

        {% if submission and submission.file %}
        <div class="current-file">
          í˜„ì¬ ì œì¶œëœ íŒŒì¼:
          <a href="{{ submission.file.url }}" target="_blank" class="file-link">
            {{ submission.file.name }}
          </a>
        </div>
        {% endif %}

        <div class="field-help">
          PDF, ë¬¸ì„œ, ì´ë¯¸ì§€ ë“± í—ˆìš©ëœ í˜•ì‹ì˜ íŒŒì¼ í•œ ê°œë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </div>
      </div>

      <div class="submit-actions">
        <a href="{% url 'classroom:assignment_detail' assignment.assignment_id %}" class="btn-cancel">
          ì·¨ì†Œ
        </a>
        <button type="submit" class="btn-submit">
          {% if submission %}ì¬ì œì¶œí•˜ê¸°{% else %}ì œì¶œí•˜ê¸°{% endif %}
        </button>
      </div>
    </form>

  </div>
</main>
{% endblock %}