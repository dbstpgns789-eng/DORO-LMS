{% extends "base.html" %}
{% load static %}

{% block title %}ì œì¶œ ëª©ë¡ | {{ assignment.title }}{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/submission_list.css' %}">
{% endblock %}

{% block content %}
<div class="list-container">
  <a href="{% url 'classroom:my_course_detail' course.course_id %}" class="back-link">
    â† ê°•ì˜ì‹¤ë¡œ
  </a>

  <h2 class="list-title">ğŸ“¤ ì œì¶œ ëª©ë¡ - {{ assignment.title }}</h2>
  <p class="list-sub">ğŸ“š {{ course.title }}</p>

  {% if submissions %}
  <table class="sub-table">
    <thead>
      <tr>
        <th>í•™ìƒ</th>
        <th>ì œì¶œ ì‹œê°„</th>
        <th>íŒŒì¼</th>
        <th>ì ìˆ˜</th>
        <th>í”¼ë“œë°±</th>
        <th>ê´€ë¦¬</th>
      </tr>
    </thead>
    <tbody>
      {% for sub in submissions %}
      <tr>
        <td>{{ sub.student.name }}</td>
        <td>{{ sub.submitted_at|date:"Y-m-d H:i" }}</td>
        <td>
          {% if sub.file %}
            <a href="{{ sub.file.url }}" target="_blank" class="file-link">ğŸ“ ë‹¤ìš´ë¡œë“œ</a>
          {% else %}
            -
          {% endif %}
        </td>
        <td>
          {% if sub.score is not None %}
            {{ sub.score }}
          {% else %}
            -
          {% endif %}
        </td>
        <td style="max-width: 250px;">
          {% if sub.feedback %}
            {{ sub.feedback|truncatewords:10 }}
          {% else %}
            -
          {% endif %}
        </td>
        <td>
          <a href="{% url 'classroom:submission_feedback' sub.submission_id %}" class="btn-feedback">
            í”¼ë“œë°±
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <div class="empty-list">
    ì•„ì§ ì œì¶œí•œ í•™ìƒì´ ì—†ìŠµë‹ˆë‹¤.
  </div>
  {% endif %}
</div>
{% endblock %}