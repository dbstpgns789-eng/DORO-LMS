{% extends "base.html" %}
{% load static %}

{% block title %}ì œì¶œ ëª©ë¡ | {{ assignment.title }}{% endblock %}

{% block content %}
<div style="max-width: 1000px; margin: 40px auto; padding: 20px;">
  <a href="{% url 'classroom:my_course_detail' course.course_id %}" style="text-decoration:none; color:#4650D5;">
    â† ê°•ì˜ì‹¤ë¡œ
  </a>

  <h2 style="margin: 20px 0 10px;">ğŸ“¤ ì œì¶œ ëª©ë¡ - {{ assignment.title }}</h2>
  <p style="color:#666; margin-bottom:20px;">ğŸ“š {{ course.title }}</p>

  {% if submissions %}
  <table style="width:100%; border-collapse:collapse; font-size:14px;">
    <thead>
      <tr style="background:#f8f9fa; border-bottom:1px solid #dee2e6;">
        <th style="padding:10px; text-align:left;">í•™ìƒ</th>
        <th style="padding:10px; text-align:left;">ì œì¶œ ì‹œê°„</th>
        <th style="padding:10px; text-align:left;">íŒŒì¼</th>
        <th style="padding:10px; text-align:left;">ì ìˆ˜</th>
        <th style="padding:10px; text-align:left;">í”¼ë“œë°±</th>
        <th style="padding:10px; text-align:left;">ê´€ë¦¬</th>
      </tr>
    </thead>
    <tbody>
      {% for sub in submissions %}
      <tr style="border-bottom:1px solid #eee;">
        <td style="padding:10px;">{{ sub.student.name }}</td>
        <td style="padding:10px;">{{ sub.submitted_at|date:"Y-m-d H:i" }}</td>
        <td style="padding:10px;">
          {% if sub.file %}
            <a href="{{ sub.file.url }}" target="_blank">ğŸ“ ë‹¤ìš´ë¡œë“œ</a>
          {% else %}
            -
          {% endif %}
        </td>
        <td style="padding:10px;">
          {% if sub.score is not None %}
            {{ sub.score }}
          {% else %}
            -
          {% endif %}
        </td>
        <td style="padding:10px; max-width:250px;">
          {% if sub.feedback %}
            {{ sub.feedback|truncatewords:10 }}
          {% else %}
            -
          {% endif %}
        </td>
        <td style="padding:10px;">
          <a href="{% url 'classroom:submission_feedback' sub.submission_id %}"
             style="padding:6px 10px; background:#0d6efd; color:white; border-radius:4px; text-decoration:none; font-size:12px;">
            í”¼ë“œë°±
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <div style="padding:50px; text-align:center; background:#f8f9fa; border-radius:8px; color:#777;">
    ì•„ì§ ì œì¶œí•œ í•™ìƒì´ ì—†ìŠµë‹ˆë‹¤.
  </div>
  {% endif %}
</div>
{% endblock %}
