{% extends "base.html" %}
{% load static %}

{% block title %}{{ notice.title }} | ê³µì§€ì‚¬í•­{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/notice_detail.css' %}">
{% endblock %}

{% block content %}
<div class="notice-detail-container">

  <a href="{% url 'classroom:my_course_detail' course.course_id %}" class="back-link">
    â† ê°•ì˜ì‹¤ë¡œ ëŒì•„ê°€ê¸°
  </a>

  <div class="notice-box">

    <div class="notice-header">
      <div class="notice-badges">
        {% if notice.is_pinned %}
        <span class="badge-pinned">ğŸ“Œ ê³ ì • ê³µì§€</span>
        {% endif %}
        <span class="badge-course">{{ course.title }}</span>
      </div>

      <h1 class="notice-title-text">{{ notice.title }}</h1>

      <div class="notice-meta">
        <div class="meta-item">
          <span>ğŸ‘¨â€ğŸ«</span>
          <span>{{ notice.author.name }}</span>
        </div>
        <div class="meta-item">
          <span>ğŸ“…</span>
          <span>{{ notice.created_at|date:"Yë…„ mì›” dì¼ H:i" }}</span>
        </div>
        {% if notice.updated_at != notice.created_at %}
        <div class="meta-item">
          <span>âœï¸</span>
          <span>ìˆ˜ì •: {{ notice.updated_at|date:"Y.m.d H:i" }}</span>
        </div>
        {% endif %}
      </div>
    </div>

    <div class="notice-body">
      <div class="notice-content">{{ notice.content }}</div>
    </div>

    <div class="notice-footer">
      <div class="btn-group">
        <a href="{% url 'classroom:my_course_detail' course.course_id %}" class="btn btn-back">
          â† ëª©ë¡ìœ¼ë¡œ
        </a>

        {% if request.user == course.instructor or request.user.role == 'manager' %}
        <div class="admin-actions">
          <a href="{% url 'classroom:notice_update' notice.notice_id %}" class="btn btn-edit">
            âœï¸ ìˆ˜ì •
          </a>
          <a href="{% url 'classroom:notice_delete' notice.notice_id %}" class="btn btn-delete">
            ğŸ—‘ï¸ ì‚­ì œ
          </a>
        </div>
        {% endif %}
      </div>
    </div>

  </div>

</div>
{% endblock %}