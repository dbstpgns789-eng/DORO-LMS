{% extends "base.html" %}
{% load static %}

{% block title %}ê°•ì˜ ëª©ë¡ | DORO LMS{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/course_list.css' %}">
{% endblock %}

{% block content %}
<section class="hero">
  <div class="hero-inner"></div>
</section>

<main class="card-wrap">
  <div class="card-inner">

    {% if request.user.is_authenticated %}
      {% if request.user.role == "instructor" or request.user.role == "manager" %}
      <div class="action-bar">
        <a href="{% url 'course:course_create' %}" class="btn-add">
          â• ê°•ì˜ ë“±ë¡
        </a>
      </div>
      {% endif %}
    {% endif %}

    <table class="course-table">
      <thead>
        <tr>
          <th style="width: 80px;">ë²ˆí˜¸</th>
          <th class="align-left">ê°•ì˜ëª…</th>
          <th style="width: 120px;">ê°•ì‚¬</th>
          <th style="width: 120px;">ë“±ë¡ì¼</th>
          <th style="width: 80px;">ì¡°íšŒìˆ˜</th>
        </tr>
      </thead>
      <tbody>
        {% for course in courses %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td class="course-title">
            <a href="{% url 'course:course_detail' course.course_id %}" class="course-link">
              {{ course.title }}
            </a>
          </td>
          <td>{{ course.instructor.name }}</td>
          <td>{{ course.created_at|date:"Y-m-d" }}</td>
          <td>{{ course.views }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" class="empty-state">
            <p class="empty-icon">ğŸ“š</p>
            <p>ë“±ë¡ëœ ê°•ì˜ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            {% if request.user.is_authenticated %}
              {% if request.user.role == "instructor" or request.user.role == "manager" %}
              <p>
                <a href="{% url 'course:course_create' %}" class="btn-first-add">ì²« ê°•ì˜ ë“±ë¡í•˜ê¸°</a>
              </p>
              {% endif %}
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

  </div>
</main>
{% endblock %}