{% extends "base.html" %}
{% load static %}

{% block title %}ê°•ì˜ ëª©ë¡ | DORO LMS{% endblock %}

{% block content %}
<section class="hero">
  <div class="hero-inner">
    <h1 class="hero-title">ê°•ì˜ ëª©ë¡</h1>
  </div>
</section>

<main class="card-wrap">
  <div class="card-inner">

    <!-- ê°•ì‚¬ë§Œ ë“±ë¡ ë²„íŠ¼ -->
    {% if request.user.is_authenticated %}
      {% if request.user.role == "instructor" or request.user.role == "manager" %}
      <div style="text-align: right; margin-bottom: 20px;">
        <a href="{% url 'course:course_create' %}" style="display: inline-block; padding: 10px 20px; background-color: #28a745; color: white; text-decoration: none; border-radius: 5px; font-weight: 500;">
          â• ê°•ì˜ ë“±ë¡
        </a>
      </div>
      {% endif %}
    {% endif %}

    <!-- ê°•ì˜ ëª©ë¡ -->
    <table style="width: 100%; border-collapse: collapse;">
      <thead>
        <tr style="border-bottom: 2px solid #ddd; background-color: #f8f9fa;">
          <th style="padding: 12px; text-align: center; width: 80px;">ë²ˆí˜¸</th>
          <th style="padding: 12px; text-align: left;">ê°•ì˜ëª…</th>
          <th style="padding: 12px; text-align: center; width: 120px;">ê°•ì‚¬</th>
          <th style="padding: 12px; text-align: center; width: 120px;">ë“±ë¡ì¼</th>
          <th style="padding: 12px; text-align: center; width: 80px;">ì¡°íšŒìˆ˜</th>
        </tr>
      </thead>
      <tbody>
        {% for course in courses %}
        <tr style="border-bottom: 1px solid #eee;">
          <td style="padding: 12px; text-align: center;">{{ forloop.counter }}</td>
          <td style="padding: 12px;">
            <a href="{% url 'course:course_detail' course.course_id %}" style="text-decoration: none; color: #212529; font-weight: 500;">
              {{ course.title }}
            </a>
          </td>
          <td style="padding: 12px; text-align: center;">{{ course.instructor.name }}</td>
          <td style="padding: 12px; text-align: center;">{{ course.created_at|date:"Y-m-d" }}</td>
          <td style="padding: 12px; text-align: center;">{{ course.views }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" style="padding: 50px; text-align: center; color: #6c757d;">
            <p style="font-size: 18px; margin-bottom: 10px;">ğŸ“š</p>
            <p>ë“±ë¡ëœ ê°•ì˜ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            {% if request.user.is_authenticated %}
              {% if request.user.role == "instructor" or request.user.role == "manager" %}
              <p style="margin-top: 15px;">
                <a href="{% url 'course:course_create' %}" style="display: inline-block; padding: 10px 20px; background-color: #28a745; color: white; text-decoration: none; border-radius: 5px;">ì²« ê°•ì˜ ë“±ë¡í•˜ê¸°</a>
              </p>
              {% endif %}
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

  </div>
</main>
{% endblock %}
